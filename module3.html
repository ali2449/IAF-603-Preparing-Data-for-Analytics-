<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 3: SQL Basics I: SELECT, WHERE, ORDER BY - IAF 603</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Source+Code+Pro:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Highlight.js for code highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <!-- MathJax CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <!-- Custom MathJax Configuration -->
    <script src="./js/mathjax.js"></script>
    <!-- Custom Styles -->
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="./index.html">IAF 603: Preparing Data for Analytics</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="./index.html">Home</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Modules
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="./module1.html">Module 1</a></li>
                            <li><a class="dropdown-item" href="./module2.html">Module 2</a></li>
                            <li><a class="dropdown-item" href="./module3.html">Module 3</a></li>
                            <li><a class="dropdown-item" href="./module4.html">Module 4</a></li>
                            <li><a class="dropdown-item" href="./module5.html">Module 5</a></li>
                            <li><a class="dropdown-item" href="./module6.html">Module 6</a></li>
                            <li><a class="dropdown-item" href="./module7.html">Module 7</a></li>
                            <li><a class="dropdown-item" href="./module8.html">Module 8</a></li>
                            <li><a class="dropdown-item" href="./module9.html">Module 9</a></li>
                            <li><a class="dropdown-item" href="./module10.html">Module 10</a></li>
                            <li><a class="dropdown-item" href="./module11.html">Module 11</a></li>
                            <li><a class="dropdown-item" href="./module12.html">Module 12</a></li>
                            <li><a class="dropdown-item" href="./module13.html">Module 13</a></li>
                            <li><a class="dropdown-item" href="./module14.html">Module 14</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./index.html#contact">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container my-5">
        <!-- Module Title -->
        <section class="text-center py-5 bg-white rounded shadow">
            <h1 class="display-4 fw-bold text-dark">Module 3: SQL Basics I: SELECT, WHERE, ORDER BY</h1>
        </section>

        <!-- Module Content -->
        <section class="my-5">
            <div class="bg-white p-4 rounded shadow">
                <!-- Learning Objectives -->
                <h2 class="h3 fw-bold border-bottom pb-2 mb-4">Learning Objectives</h2>
                <p>Upon completion of this module, participants will be able to:</p>
                <ul>
                    <li>Construct basic SQL <code>SELECT</code> statements to retrieve specific columns or all data from tables.</li>
                    <li>Utilize column aliasing and create derived columns using arithmetic operations and simple functions.</li>
                    <li>Implement <code>WHERE</code> clauses with various comparison and logical operators to filter query results precisely.</li>
                    <li>Apply <code>ORDER BY</code> to sort query outputs in ascending or descending order, including multi-column sorting.</li>
                    <li>Understand the fundamental order of SQL clause execution.</li>
                    <li>Execute basic SQL queries in a cloud-based environment like Microsoft Fabric Lakehouse.</li>
                </ul>

                <!-- Introduction to SQL Basics I -->
                <h2 class="h3 fw-bold border-bottom pb-2 mb-4">Introduction to SQL Basics I</h2>
                <p>SQL (Structured Query Language) is the universal language for interacting with relational databases. It's the cornerstone of data preparation, enabling us to extract, filter, and organize data before any deeper analysis can begin. This module introduces the absolute essentials of SQL: the <code>SELECT</code> statement for choosing what data to see, the <code>WHERE</code> clause for filtering out unwanted data, and the <code>ORDER BY</code> clause for arranging the results. We'll also touch upon how these fundamental queries operate within modern cloud data platforms like Microsoft Fabric, which are increasingly common in today's data landscape. Mastering these basics is crucial for building more complex queries later in the course.</p>
                <p>SQL was developed in the 1970s by IBM and standardized in 1986. Today, it's used in everything from small apps to massive big data systems. For example, in a Greensboro retail business, SQL can query sales data to identify top products; in healthcare, it retrieves patient records for analysis. Understanding these basics allows efficient data handling, reducing processing time and errors.</p>

                <!-- The SELECT Clause: Choosing Your Data -->
                <h3 class="h4 fw-bold mb-3">The SELECT Clause: Choosing Your Data</h3>
                <p>The <code>SELECT</code> clause is the first part of almost every SQL query. It specifies which columns you want to retrieve from a table. You can select all columns with <code>*</code>, specific columns by listing them, use aliases with <code>AS</code> for readability, or create derived columns with calculations.</p>
                <ul>
                    <li><strong>Selecting All Columns:</strong> Use <code>*</code> to retrieve everything, useful for initial exploration but inefficient for large tables.</li>
                    <li><strong>Selecting Specific Columns:</strong> List columns separated by commas to focus on relevant data, improving performance.</li>
                    <li><strong>Column Aliasing:</strong> Rename columns in results for clarity, e.g., <code>subject_id AS PatientID</code>.</li>
                    <li><strong>Derived Columns:</strong> Compute new values, like <code>age * 12 AS AgeInMonths</code>.</li>
                </ul>
                <p><strong>Sample Data (PATIENTS Table):</strong></p>
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>subject_id</th>
                            <th>name</th>
                            <th>age</th>
                            <th>gender</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1001</td>
                            <td>Alice Smith</td>
                            <td>45</td>
                            <td>Female</td>
                        </tr>
                        <tr>
                            <td>1002</td>
                            <td>Bob Johnson</td>
                            <td>32</td>
                            <td>Male</td>
                        </tr>
                        <tr>
                            <td>1003</td>
                            <td>Carol White</td>
                            <td>58</td>
                            <td>Female</td>
                        </tr>
                        <tr>
                            <td>1004</td>
                            <td>David Brown</td>
                            <td>67</td>
                            <td>Male</td>
                        </tr>
                        <tr>
                            <td>1005</td>
                            <td>Eve Davis</td>
                            <td>29</td>
                            <td>Female</td>
                        </tr>
                    </tbody>
                </table>
                <div class="code-block">
                    <button class="btn btn-sm btn-secondary copy-btn" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-sql">-- 1. Select all columns from the PATIENTS table
SELECT *
FROM PATIENTS;

-- 2. Select specific columns: name and age
SELECT name, age
FROM PATIENTS;

-- 3. Select specific columns with aliases for readability
SELECT
    subject_id AS PatientID,
    name AS FullName,
    age AS PatientAge
FROM PATIENTS;

-- 4. Create a derived column: Calculate approximate birth year (assuming current year 2025)
SELECT
    name,
    age,
    (2025 - age) AS EstimatedBirthYear
FROM PATIENTS;</code></pre>
                </div>
                <p><strong>Explanation:</strong> The first query retrieves all data. The second focuses on name and age. The third uses aliases for better readability in reports. The fourth derives a new column with arithmetic, useful for analytics like age groups.</p>
                <p><strong>Expanded Example (Sales Table):</strong> Imagine a sales table for a Greensboro store.</p>
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>sale_id</th>
                            <th>product</th>
                            <th>quantity</th>
                            <th>price</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Laptop</td>
                            <td>2</td>
                            <td>800.00</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Mouse</td>
                            <td>5</td>
                            <td>20.00</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>Keyboard</td>
                            <td>3</td>
                            <td>50.00</td>
                        </tr>
                    </tbody>
                </table>
                <div class="code-block">
                    <button class="btn btn-sm btn-secondary copy-btn" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-sql">-- Select product and total cost (derived)
SELECT
    product,
    quantity,
    price,
    (quantity * price) AS TotalCost
FROM Sales;</code></pre>
                </div>
                <p><strong>Explanation:</strong> This calculates total cost per sale, aiding quick revenue insights without altering the database.</p>

                <!-- The WHERE Clause: Filtering Your Data -->
                <h3 class="h4 fw-bold mb-3">The WHERE Clause: Filtering Your Data</h3>
                <p>The <code>WHERE</code> clause filters rows based on conditions, using operators like =, >, <, BETWEEN, LIKE, IN, and logical operators (AND, OR, NOT). It's essential for targeting specific data subsets.</p>
                <ul>
                    <li><strong>Comparison Operators:</strong> = (equal), != or <> (not equal), >, >=, <, <=.</li>
                    <li><strong>Logical Operators:</strong> AND (both true), OR (either true), NOT (inverse).</li>
                    <li><strong>Special Operators:</strong> BETWEEN (range), LIKE (pattern matching with % wildcard), IN (list match).</li>
                </ul>
                <div class="code-block">
                    <button class="btn btn-sm btn-secondary copy-btn" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-sql">-- Filter patients older than 50
SELECT name, age
FROM PATIENTS
WHERE age > 50;

-- Filter female patients between ages 30 and 50
SELECT name, age, gender
FROM PATIENTS
WHERE gender = 'Female' AND age BETWEEN 30 AND 50;

-- Filter names starting with 'A' or 'B'
SELECT name
FROM PATIENTS
WHERE name LIKE 'A%' OR name LIKE 'B%';</code></pre>
                </div>
                <p><strong>Explanation:</strong> The first filters by age. The second combines conditions for targeted demographics. The third uses LIKE for pattern-based search, useful for partial matches.</p>
                <p><strong>Expanded Example (Employees Table):</strong> A table for UNCG staff.</p>
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>emp_id</th>
                            <th>name</th>
                            <th>salary</th>
                            <th>department</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>John Doe</td>
                            <td>60000</td>
                            <td>IT</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Jane Smith</td>
                            <td>75000</td>
                            <td>HR</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>Mike Johnson</td>
                            <td>55000</td>
                            <td>IT</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>Sara Lee</td>
                            <td>80000</td>
                            <td>Finance</td>
                        </tr>
                    </tbody>
                </table>
                <div class="code-block">
                    <button class="btn btn-sm btn-secondary copy-btn" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-sql">-- Employees in IT with salary > 50000
SELECT name, salary
FROM Employees
WHERE department = 'IT' AND salary > 50000;

-- Employees not in HR or Finance
SELECT name, department
FROM Employees
WHERE department NOT IN ('HR', 'Finance');</code></pre>
                </div>
                <p><strong>Explanation:</strong> This filters for high-salary IT staff or excludes certain departments, useful for HR reports.</p>

                <!-- The ORDER BY Clause: Sorting Your Data -->
                <h3 class="h4 fw-bold mb-3">The ORDER BY Clause: Sorting Your Data</h3>
                <p>The <code>ORDER BY</code> clause sorts results by one or more columns, in ASC (default) or DESC order. Multi-column sorting prioritizes the first column, then the next.</p>
                <ul>
                    <li><strong>Basic Sorting:</strong> Sort by a single column, e.g., age ASC.</li>
                    <li><strong>Multi-Column:</strong> Sort by multiple, e.g., department ASC, salary DESC.</li>
                    <li><strong>With Derived Columns:</strong> Sort by aliases or calculations.</li>
                </ul>
                <div class="code-block">
                    <button class="btn btn-sm btn-secondary copy-btn" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-sql">-- Sort patients by age ascending
SELECT name, age
FROM PATIENTS
ORDER BY age ASC;

-- Sort by gender ASC, then age DESC within gender
SELECT name, age, gender
FROM PATIENTS
ORDER BY gender ASC, age DESC;</code></pre>
                </div>
                <p><strong>Explanation:</strong> The first sorts youngest to oldest. The second groups by gender, then oldest to youngest within each.</p>
                <p><strong>Expanded Example (Sales Table):</strong></p>
                <div class="code-block">
                    <button class="btn btn-sm btn-secondary copy-btn" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-sql">-- Sort sales by total cost descending
SELECT product, (quantity * price) AS TotalCost
FROM Sales
ORDER BY TotalCost DESC;

-- Multi-column: by quantity DESC, then price ASC
SELECT product, quantity, price
FROM Sales
ORDER BY quantity DESC, price ASC;</code></pre>
                </div>
                <p><strong>Explanation:</strong> This identifies highest-value sales or sorts by volume then cost.</p>

                <!-- Order of Execution -->
                <h3 class="h4 fw-bold mb-3">Order of Execution</h3>
                <p>SQL clauses execute in a specific order: <code>FROM</code> (source), <code>WHERE</code> (filter), <code>SELECT</code> (project), <code>ORDER BY</code> (sort). This affects how aliases and conditions work—aliases can't be used in <code>WHERE</code> but can in <code>ORDER BY</code>.</p>
                <p><strong>Example:</strong> You can't filter on an alias in <code>WHERE</code>, but you can sort by it.</p>
                <div class="code-block">
                    <button class="btn btn-sm btn-secondary copy-btn" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-sql">-- Valid: Sort by alias
SELECT name, age AS PatientAge
FROM PATIENTS
ORDER BY PatientAge DESC;

-- Invalid: Can't filter by alias in WHERE (use age > 50 instead)
-- SELECT name, age AS PatientAge FROM PATIENTS WHERE PatientAge > 50; -- Error</code></pre>
                </div>
                <p><strong>Explanation:</strong> Understanding execution order prevents common errors and optimizes queries.</p>

                <!-- Running Queries in Microsoft Fabric -->
                <h3 class="h4 fw-bold mb-3">Running Queries in Microsoft Fabric Lakehouse</h3>
                <p>Microsoft Fabric Lakehouse combines data lakes and warehouses for scalable querying. Use notebooks or SQL endpoints to run queries on large datasets.</p>
                <div class="code-block">
                    <button class="btn btn-sm btn-secondary copy-btn" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-sql">-- Example in Fabric: Query patient data
SELECT name, age
FROM lakehouse.PATIENTS
WHERE age > 40
ORDER BY age DESC;</code></pre>
                </div>
                <p><strong>Explanation:</strong> Fabric handles big data; syntax is standard SQL, but optimized for distributed processing.</p>
                <p><strong>Expanded Example (Survey Data in Fabric):</strong></p>
                <div class="code-block">
                    <button class="btn btn-sm btn-secondary copy-btn" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-sql">-- Query survey responses in Fabric
SELECT respondent_id, answer
FROM survey_lakehouse.Responses
WHERE satisfaction_score >= 4
ORDER BY response_date ASC;</code></pre>
                </div>
                <p><strong>Explanation:</strong> Filters high-satisfaction responses, sorted chronologically for trend analysis.</p>

                <!-- Assessments -->
                <h2 class="h3 fw-bold border-bottom pb-2 mb-4">Assessments</h2>
                <ol>
                    <li><strong>Conceptual Question:</strong> Explain the difference between <code>SELECT *</code> and selecting specific columns. When would you use each?</li>
                    <li><strong>SQL Coding Task:</strong> Using the PATIENTS table, write a query to select names and genders of patients older than 40, sorted by age descending.</li>
                    <li><strong>Application Scenario:</strong> For a Greensboro library, query a Books table to find titles published after 2020 with 'Data' in the title, sorted by publish date.</li>
                </ol>
                <p>Expanded assessment example: Design a query for a sales database to find products with price > 100, quantity < 10, sorted by price ascending, and explain execution order.</p>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="bg-light py-3 text-center">
        <p class="text-muted mb-0">&copy; 2025 Ali Noori, UNCG. All rights reserved.</p>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <!-- Highlight.js Initialization -->
    <script>hljs.highlightAll();</script>
    <!-- Custom Copy Functionality -->
    <script>
        function copyCode(button) {
            const code = button.nextElementSibling.querySelector('code');
            navigator.clipboard.writeText(code.innerText).then(() => {
                button.textContent = 'Copied!';
                setTimeout(() => { button.textContent = 'Copy'; }, 2000);
            });
        }
    </script>
</body>
</html>